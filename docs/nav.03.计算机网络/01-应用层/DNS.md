# DNS

## 定义

全称 Dynamc Name System，即 DNS 域名系统，是互联网的一项服务

DNS实际上为 **存储域名和 IP 地址映射关系** 的一个分布式数据库

## 常见的资源记录类型

- 主机记录（A记录）：RFC 1035定义，A记录是用于名称解析的重要记录，它将特定的主机名映射到对应主机的IP地址上
- 别名记录（CNAME记录）: RFC 1035定义，CNAME记录用于将某个别名指向到某个A记录上，这样就不需要再为某个新名字另外创建一条新的A记录
- IPv6主机记录（AAAA记录）: RFC 3596定义，与A记录对应，用于将特定的主机名映射到一个主机的IPv6地址
- 服务位置记录（SRV记录）: RFC 2782定义，用于定义提供特定服务的服务器的位置，如主机（hostname），端口（port number）等
- 域名服务器记录（NS记录） ：用来指定该域名由哪个DNS服务器来进行解析。 您注册域名时，总有默认的DNS服务器，每个注册的域名都是由一个DNS域名服务器来进行解析的，DNS服务器NS记录地址一般以以下的形式出现： ns1.domain.com、ns2.domain.com等。 简单的说，NS记录是指定由哪个DNS服务器解析你的域名
- NAPTR记录：RFC 3403定义，它提供了正则表达式方式去映射一个域名。NAPTR记录非常著名的一个应用是用于ENUM查询

## 解析过程

1. 例如在浏览器中输入 www.baidu.com
2. 浏览器检查缓存中是否有映射关系
3. 操作系统 host 文件查找
4. 路由器缓存
5. 本地 DNS 服务器缓存查找
6. 根服务器 DNS 查询
7. 顶级域名服务器 DNS 查询
8. 主域名服务器 DNS 查询
9. 返回并保存至缓存
